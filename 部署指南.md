# 网站部署到公网指南

本指南提供了多种将您的个人网站部署到公网的方案，从最简单到最灵活，您可以根据需求选择。

## 方案一：Vercel（推荐，最简单）⭐

**优点**：免费、自动部署、全球 CDN、HTTPS 自动配置、零配置

### 步骤：

1. **注册 Vercel 账号**
   - 访问 https://vercel.com
   - 使用 GitHub/GitLab/Bitbucket 账号登录（推荐）

2. **准备代码仓库**
   - 将代码推送到 GitHub（如果还没有）
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin <你的GitHub仓库地址>
   git push -u origin main
   ```

3. **部署到 Vercel**
   - 登录 Vercel 后，点击 "Add New Project"
   - 导入你的 GitHub 仓库
   - Vercel 会自动检测到 Vite 项目
   - 构建命令：`npm run build`
   - 输出目录：`dist`
   - 点击 "Deploy" 即可

4. **完成**
   - 几分钟后，你会得到一个 `https://your-project.vercel.app` 的网址
   - 每次推送到 GitHub，Vercel 会自动重新部署

### 自定义域名（可选）
- 在 Vercel 项目设置中添加你的域名
- 按照提示配置 DNS 记录
- 自动获得 HTTPS 证书

---

## 方案二：Netlify

**优点**：免费、自动部署、全球 CDN、拖拽部署

### 步骤：

1. **注册 Netlify 账号**
   - 访问 https://www.netlify.com
   - 使用 GitHub 账号登录

2. **部署方式 A：通过 Git 连接**
   - 点击 "Add new site" → "Import an existing project"
   - 连接 GitHub 仓库
   - 构建命令：`npm run build`
   - 发布目录：`dist`
   - 点击 "Deploy site"

3. **部署方式 B：拖拽部署（最简单）**
   ```bash
   # 先本地构建
   npm run build
   ```
   - 访问 https://app.netlify.com/drop
   - 直接将 `dist` 文件夹拖拽到页面
   - 立即获得一个网址

---

## 方案三：GitHub Pages

**优点**：完全免费、与 GitHub 集成

### 步骤：

1. **安装 gh-pages 包**
   ```bash
   npm install --save-dev gh-pages
   ```

2. **修改 package.json**
   在 `scripts` 中添加：
   ```json
   "deploy": "npm run build && gh-pages -d dist"
   ```

3. **修改 vite.config.js**
   ```js
   export default defineConfig({
     plugins: [react()],
     base: '/your-repo-name/', // 替换为你的仓库名
     server: {
       port: 3000,
       open: true
     }
   })
   ```

4. **部署**
   ```bash
   npm run deploy
   ```

5. **启用 GitHub Pages**
   - 在 GitHub 仓库设置中
   - 找到 "Pages" 选项
   - 选择 `gh-pages` 分支
   - 访问：`https://your-username.github.io/your-repo-name/`

---

## 方案四：云服务器部署（阿里云/腾讯云/华为云等）

**优点**：完全控制、可自定义配置

### 步骤：

1. **购买云服务器**
   - 选择轻量应用服务器（推荐，便宜）
   - 或云服务器 ECS
   - 系统选择 Ubuntu 或 CentOS

2. **安装 Nginx**
   ```bash
   # Ubuntu/Debian
   sudo apt update
   sudo apt install nginx -y
   
   # CentOS
   sudo yum install nginx -y
   ```

3. **构建项目**
   ```bash
   # 本地构建
   npm run build
   ```

4. **上传文件到服务器**
   - 使用 FTP 工具（如 FileZilla）
   - 或使用 scp 命令：
   ```bash
   scp -r dist/* root@your-server-ip:/var/www/html/
   ```

5. **配置 Nginx**
   ```bash
   sudo nano /etc/nginx/sites-available/default
   ```
   
   配置内容：
   ```nginx
   server {
       listen 80;
       server_name your-domain.com;  # 替换为你的域名或IP
       root /var/www/html;
       index index.html;
       
       location / {
           try_files $uri $uri/ /index.html;
       }
   }
   ```
   
   重启 Nginx：
   ```bash
   sudo systemctl restart nginx
   ```

6. **配置域名（可选）**
   - 在域名服务商添加 A 记录指向服务器 IP
   - 配置 SSL 证书（使用 Let's Encrypt 免费证书）

---

## 方案五：其他静态托管服务

### Cloudflare Pages
- 网址：https://pages.cloudflare.com
- 免费、全球 CDN、自动部署

### Render
- 网址：https://render.com
- 免费套餐可用

### Surge.sh
- 命令行部署工具
- 安装：`npm install -g surge`
- 部署：`npm run build && surge dist`

---

## 推荐方案对比

| 方案 | 难度 | 费用 | 速度 | 推荐度 |
|------|------|------|------|--------|
| Vercel | ⭐ 极简单 | 免费 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| Netlify | ⭐⭐ 简单 | 免费 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ |
| GitHub Pages | ⭐⭐⭐ 中等 | 免费 | ⭐⭐⭐ | ⭐⭐⭐ |
| 云服务器 | ⭐⭐⭐⭐ 较难 | 付费 | ⭐⭐⭐⭐ | ⭐⭐ |

## 快速开始（推荐 Vercel）

1. 确保代码已推送到 GitHub
2. 访问 https://vercel.com 并登录
3. 导入项目 → 选择仓库 → 自动部署
4. 5 分钟后获得网址

---

## 注意事项

1. **路由配置**：如果使用 React Router，确保服务器配置了回退到 `index.html`（Vercel/Netlify 自动处理）

2. **环境变量**：如果有环境变量，在部署平台配置

3. **构建优化**：
   ```bash
   npm run build
   ```
   确保构建成功，检查 `dist` 目录

4. **图片资源**：确保所有图片路径正确，使用相对路径

5. **视频文件**：大视频文件建议使用 CDN 或外部存储

---

## 需要帮助？

如果遇到问题，可以：
- 查看 Vercel/Netlify 的部署日志
- 检查浏览器控制台错误
- 确认所有资源路径正确

